(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function z(){}const fe=e=>e;function ue(e){return e()}function $(){return Object.create(null)}function M(e){e.forEach(ue)}function V(e){return typeof e=="function"}function ye(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function we(e){return Object.keys(e).length===0}const ae=typeof window<"u";let ve=ae?()=>window.performance.now():()=>Date.now(),W=ae?e=>requestAnimationFrame(e):z;const N=new Set;function he(e){N.forEach(t=>{t.c(e)||(N.delete(t),t.f())}),N.size!==0&&W(he)}function ke(e){let t;return N.size===0&&W(he),{promise:new Promise(n=>{N.add(t={c:e,f:n})}),abort(){N.delete(t)}}}function H(e,t){e.appendChild(t)}function de(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function be(e){const t=C("style");return Ee(de(e),t),t.sheet}function Ee(e,t){return H(e.head||e,t),t.sheet}function X(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode&&e.parentNode.removeChild(e)}function xe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function _e(e){return document.createTextNode(e)}function Me(){return _e(" ")}function ee(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function P(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Se(e){return Array.from(e.childNodes)}function Ne(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function te(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function S(e,t,n){e.classList[n?"add":"remove"](t)}function Oe(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,n,r,t),l}const F=new Map;let I=0;function je(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Ae(e,t){const n={stylesheet:be(t),rules:{}};return F.set(e,n),n}function Le(e,t,n,r,l,o,i,f=0){const c=16.666/r;let s=`{
`;for(let a=0;a<=1;a+=c){const d=t+(n-t)*o(a);s+=a*100+`%{${i(d,1-d)}}
`}const m=s+`100% {${i(n,1-n)}}
}`,h=`__svelte_${je(m)}_${f}`,_=de(e),{stylesheet:g,rules:p}=F.get(_)||Ae(_,e);p[h]||(p[h]=!0,g.insertRule(`@keyframes ${h} ${m}`,g.cssRules.length));const u=e.style.animation||"";return e.style.animation=`${u?`${u}, `:""}${h} ${r}ms linear ${l}ms 1 both`,I+=1,h}function ze(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),l=n.length-r.length;l&&(e.style.animation=r.join(", "),I-=l,I||Ce())}function Ce(){W(()=>{I||(F.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&T(t)}),F.clear())})}let Y;function L(e){Y=e}const A=[],ne=[],R=[],oe=[],Pe=Promise.resolve();let U=!1;function Te(){U||(U=!0,Pe.then(me))}function K(e){R.push(e)}const Q=new Set;let D=0;function me(){const e=Y;do{for(;D<A.length;){const t=A[D];D++,L(t),qe(t.$$)}for(L(null),A.length=0,D=0;ne.length;)ne.pop()();for(let t=0;t<R.length;t+=1){const n=R[t];Q.has(n)||(Q.add(n),n())}R.length=0}while(A.length);for(;oe.length;)oe.pop()();U=!1,Q.clear(),L(e)}function qe(e){if(e.fragment!==null){e.update(),M(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(K)}}let j;function De(){return j||(j=Promise.resolve(),j.then(()=>{j=null})),j}function re(e,t,n){e.dispatchEvent(Oe(`${t?"intro":"outro"}${n}`))}const B=new Set;let x;function pe(){x={r:0,c:[],p:x}}function ge(){x.r||M(x.c),x=x.p}function O(e,t){e&&e.i&&(B.delete(e),e.i(t))}function G(e,t,n,r){if(e&&e.o){if(B.has(e))return;B.add(e),x.c.push(()=>{B.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const Re={duration:0};function Be(e,t,n){const r={direction:"out"};let l=t(e,n,r),o=!0,i;const f=x;f.r+=1;function c(){const{delay:s=0,duration:m=300,easing:h=fe,tick:_=z,css:g}=l||Re;g&&(i=Le(e,1,0,m,s,h,g));const p=ve()+s,u=p+m;K(()=>re(e,!1,"start")),ke(a=>{if(o){if(a>=u)return _(0,1),re(e,!1,"end"),--f.r||M(f.c),!1;if(a>=p){const d=h((a-p)/m);_(1-d,d)}}return o})}return V(l)?De().then(()=>{l=l(r),c()}):c(),{end(s){s&&l.tick&&l.tick(1,0),o&&(i&&ze(e,i),o=!1)}}}function Fe(e,t){G(e,1,1,()=>{t.delete(e.key)})}function Ie(e,t,n,r,l,o,i,f,c,s,m,h){let _=e.length,g=o.length,p=_;const u={};for(;p--;)u[e[p].key]=p;const a=[],d=new Map,w=new Map;for(p=g;p--;){const y=h(l,o,p),b=n(y);let E=i.get(b);E?r&&E.p(y,t):(E=s(b,y),E.c()),d.set(b,a[p]=E),b in u&&w.set(b,Math.abs(p-u[b]))}const k=new Set,Z=new Set;function J(y){O(y,1),y.m(f,m),i.set(y.key,y),m=y.first,g--}for(;_&&g;){const y=a[g-1],b=e[_-1],E=y.key,q=b.key;y===b?(m=y.first,_--,g--):d.has(q)?!i.has(E)||k.has(E)?J(y):Z.has(q)?_--:w.get(E)>w.get(q)?(Z.add(E),J(y)):(k.add(q),_--):(c(b,i),_--)}for(;_--;){const y=e[_];d.has(y.key)||c(y,i)}for(;g;)J(a[g-1]);return a}function Ke(e,t,n,r){const{fragment:l,after_update:o}=e.$$;l&&l.m(t,n),r||K(()=>{const i=e.$$.on_mount.map(ue).filter(V);e.$$.on_destroy?e.$$.on_destroy.push(...i):M(i),e.$$.on_mount=[]}),o.forEach(K)}function Ge(e,t){const n=e.$$;n.fragment!==null&&(M(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function He(e,t){e.$$.dirty[0]===-1&&(A.push(e),Te(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Je(e,t,n,r,l,o,i,f=[-1]){const c=Y;L(e);const s=e.$$={fragment:null,ctx:[],props:o,update:z,not_equal:l,bound:$(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:$(),dirty:f,skip_bound:!1,root:t.target||c.$$.root};i&&i(s.root);let m=!1;if(s.ctx=n?n(e,t.props||{},(h,_,...g)=>{const p=g.length?g[0]:_;return s.ctx&&l(s.ctx[h],s.ctx[h]=p)&&(!s.skip_bound&&s.bound[h]&&s.bound[h](p),m&&He(e,h)),_}):[],s.update(),m=!0,M(s.before_update),s.fragment=r?r(s.ctx):!1,t.target){if(t.hydrate){const h=Se(t.target);s.fragment&&s.fragment.l(h),h.forEach(T)}else s.fragment&&s.fragment.c();t.intro&&O(e.$$.fragment),Ke(e,t.target,t.anchor,t.customElement),me()}L(c)}class Qe{$destroy(){Ge(this,1),this.$destroy=z}$on(t,n){if(!V(n))return z;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(t){this.$$set&&!we(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Ue(e,{delay:t=0,duration:n=400,easing:r=fe}={}){const l=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:o=>`opacity: ${o*l}`}}function se(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function le(e,t,n){const r=e.slice();return r[15]=t[n],r[17]=n,r}function ie(e,t){let n,r=t[15].value+"",l,o,i,f,c;function s(){return t[5](t[15])}function m(...h){return t[6](t[15],...h)}return{key:e,first:null,c(){n=C("div"),l=_e(r),P(n,"tabindex","0"),P(n,"class","square svelte-1vkd3zv"),te(n,"--move-direction",t[15].move),S(n,"target",t[2]===t[15]),S(n,"adjacent",t[1].includes(t[15])),S(n,"move",t[15].move),this.first=n},m(h,_){X(h,n,_),H(n,l),i=!0,f||(c=[ee(n,"click",s),ee(n,"keydown",m)],f=!0)},p(h,_){t=h,(!i||_&1)&&r!==(r=t[15].value+"")&&Ne(l,r),(!i||_&1)&&te(n,"--move-direction",t[15].move),(!i||_&5)&&S(n,"target",t[2]===t[15]),(!i||_&3)&&S(n,"adjacent",t[1].includes(t[15])),(!i||_&1)&&S(n,"move",t[15].move)},i(h){i||(o&&o.end(1),i=!0)},o(h){o=Be(n,Ue,{duration:500}),i=!1},d(h){h&&T(n),h&&o&&o.end(),f=!1,M(c)}}}function ce(e){let t,n=[],r=new Map,l,o,i=e[12];const f=c=>c[15];for(let c=0;c<i.length;c+=1){let s=le(e,i,c),m=f(s);r.set(m,n[c]=ie(m,s))}return{c(){t=C("div");for(let c=0;c<n.length;c+=1)n[c].c();l=Me(),P(t,"class","column svelte-1vkd3zv")},m(c,s){X(c,t,s);for(let m=0;m<n.length;m+=1)n[m].m(t,null);H(t,l),o=!0},p(c,s){s&15&&(i=c[12],pe(),n=Ie(n,s,f,1,c,i,r,t,Fe,ie,l,le),ge())},i(c){if(!o){for(let s=0;s<i.length;s+=1)O(n[s]);o=!0}},o(c){for(let s=0;s<n.length;s+=1)G(n[s]);o=!1},d(c){c&&T(t);for(let s=0;s<n.length;s+=1)n[s].d()}}}function Ve(e){let t,n,r,l=e[0],o=[];for(let f=0;f<l.length;f+=1)o[f]=ce(se(e,l,f));const i=f=>G(o[f],1,1,()=>{o[f]=null});return{c(){t=C("main"),n=C("div");for(let f=0;f<o.length;f+=1)o[f].c();P(n,"id","grid"),P(n,"class","svelte-1vkd3zv")},m(f,c){X(f,t,c),H(t,n);for(let s=0;s<o.length;s+=1)o[s].m(n,null);r=!0},p(f,[c]){if(c&15){l=f[0];let s;for(s=0;s<l.length;s+=1){const m=se(f,l,s);o[s]?(o[s].p(m,c),O(o[s],1)):(o[s]=ce(m),o[s].c(),O(o[s],1),o[s].m(n,null))}for(pe(),s=l.length;s<o.length;s+=1)i(s);ge()}},i(f){if(!r){for(let c=0;c<l.length;c+=1)O(o[c]);r=!0}},o(f){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)G(o[c]);r=!1},d(f){f&&T(t),xe(o,f)}}}const v=10;function We(e,t,n){let r=[],l=[],o=null,i=null,f=!1;const c=["0, 100%","0, -100%","100%, 0","-100%, 0"];class s{constructor(a,d=0,w=0){this.value=a,this.x=d,this.y=w,this.move=null}}for(let u=0;u<v;u++){r.push([]);for(let a=0;a<v;a++)r[u].push(new s(Math.floor(Math.random()*9+1),u,a))}function m(u){n(3,f=!0),n(2,o.move=c[u],o),n(4,i.move=c[u%2*-2+1+u],i),setTimeout(()=>{n(2,o.move=null,o),n(4,i.move=null,i),n(2,o=null),n(4,i=null),n(0,r),n(2,o),n(1,l),n(4,i)},500),setTimeout(()=>h(),600)}function h(){let u=new Set;for(let a=0;a<v;a++)for(let d=0;d<v;d++){if(a+2<v){const w=[r[a][d],r[a+1][d],r[a+2][d]];w.every(k=>k.value===w[0].value)&&w.forEach(k=>u.add(k))}if(d+2<v){const w=[r[a][d],r[a][d+1],r[a][d+2]];w.every(k=>k.value===w[0].value)&&w.forEach(k=>u.add(k))}}n(0,r=r.map(a=>a.filter(d=>!u.has(d)))),u.size===0?n(3,f=!1):setTimeout(()=>{_(),n(3,f=!1),h()},500)}function _(){for(let u=0;u<v;u++){const a=v-r[u].length;for(let d=0;d<a;d++)r[u].unshift(new s(Math.floor(Math.random()*9+1),u,0));for(let d=0;d<v;d++)n(0,r[u][d].y=d,r);n(0,r),n(2,o),n(1,l),n(4,i)}}const g=u=>{f||n(2,o=u)},p=(u,a)=>{a.key===" "&&(a.preventDefault(),f||n(2,o=u))};return e.$$.update=()=>{if(e.$$.dirty&23&&o){const u=l.indexOf(o);u!=-1?(n(2,[o.value,i.value]=[i.value,o.value],o,(n(4,i),n(2,o),n(1,l),n(0,r))),n(1,l=[]),m(u),n(0,r),n(2,o),n(1,l),n(4,i)):(n(1,l=[o.y>0?r[o.x][o.y-1]:null,o.y+1<v?r[o.x][o.y+1]:null,o.x>0?r[o.x-1][o.y]:null,o.x+1<v?r[o.x+1][o.y]:null]),n(4,i=o))}},[r,l,o,f,i,g,p]}class Xe extends Qe{constructor(t){super(),Je(this,t,We,Ve,ye,{})}}new Xe({target:document.getElementById("app")});
